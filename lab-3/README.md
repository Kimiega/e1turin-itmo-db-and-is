# Лабораторная работа #3. Вариант 19832718.

## Задание.

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных `ucheb`:

```bash
psql -h pg -d ucheb
```

Отчёт по лабораторной работе должен содержать:

- Текст задания.
- Реализацию запросов на SQL.
- Выводы по работе.

Темы для подготовки к защите лабораторной работы:

- SQL
- Соединение таблиц
- Подзапросы

Составить запросы на языке SQL (пункты 1-7).

1.  Сделать запрос для получения атрибутов из указанных таблиц, применив
    фильтры по указанным условиям: `Н_ТИПЫ_ВЕДОМОСТЕЙ`, `Н_ВЕДОМОСТИ`. 
    Вывести атрибуты: `Н_ТИПЫ_ВЕДОМОСТЕЙ.НАИМЕНОВАНИЕ`, `Н_ВЕДОМОСТИ.ЧЛВК_ИД`. 
    Фильтры (AND):
    - `Н_ТИПЫ_ВЕДОМОСТЕЙ.НАИМЕНОВАНИЕ > Ведомость`.
    - `Н_ВЕДОМОСТИ.ЧЛВК_ИД = 142390`.
    - `Н_ВЕДОМОСТИ.ЧЛВК_ИД < 15328`. 

    Вид соединения: `LEFT JOIN`.

2.  Сделать запрос для получения атрибутов из указанных таблиц, применив
    фильтры по указанным условиям: Таблицы: `Н_ЛЮДИ`, `Н_ВЕДОМОСТИ`, `Н_СЕССИЯ`.
    Вывести атрибуты: `Н_ЛЮДИ.ФАМИЛИЯ`, `Н_ВЕДОМОСТИ.ДАТА`, `Н_СЕССИЯ.ЧЛВК_ИД`.
    Фильтры (AND):
    - `Н_ЛЮДИ.ИМЯ < Роман`.
    - `Н_ВЕДОМОСТИ.ИД < 1426978`. 

    Вид соединения: `INNER JOIN`.

3.  Вывести число студентов `ФКТИУ`, которые старше `25 лет`. Ответ должен
    содержать только одно число.

4.  В таблице `Н_ГРУППЫ_ПЛАНОВ` найти номера планов, по которым обучается
    (обучалось) менее 2 групп на кафедре вычислительной техники. Для реализации
    использовать соединение таблиц.

5.  Выведите таблицу со средними оценками студентов группы `4100` (`Номер`, `ФИО`,
    `Ср_оценка`), у которых средняя оценка меньше максимальной оценк(е|и) 
    в группе `1100`.

6.  Получить список студентов, отчисленных после `первого сентября 2012 года` с
    `очной формы обучения` (специальность: `230101`). 
    В результат включить: номер группы; номер, фамилию, имя и отчество студента; номер пункта приказа; 
    Для реализации использовать подзапрос с `IN`.

7.  Вывести список людей, не являющихся или не являвшихся студентами `ФКТИУ`
    (данные, о которых отсутствуют в таблице `Н_УЧЕНИКИ`). 
    В запросе нельзя использовать `DISTINCT`.

- - -
# Комментарии

## Выполнение задания

Задания выполнялись совместно с @Malevrovich: (1, 3, 5, 7) — он, (2, 4, 6) — я.

Ужасная инфологическая модель базы лежит в docs: БД [Учебный Процесс.png](../docs/DB-study-process.png).

Каждый запрос представлен в отдельном файле c комментариями: 
1. [req-1.sql](./req-1.sql)
2. [req-2.sql](./req-2.sql)
3. [req-3.sql](./req-3.sql)
4. [req-4.sql](./req-4.sql)
5. [req-5.sql](./req-5.sql)
6. [req-6.sql](./req-6.sql)
7. [req-7.sql](./req-7.sql)

## Защита

[[--TODO]]

